####################################################
################## READ ME #########################
####################################################

# 1. Summary

This folder contains the replication files and data for the simulation study in the paper "Building Representative Matched Samples with Multi-valued Treatments in Large Observational Studies: Analysis of the Impact of an Earthquake on Educational Attainment" (Bennett, Vielma, and Zubizarreta, 2018).

# 2. Folder Simulation Study

Contains the code and data used for the performance assessment with simulated data. The following data sets are available:

	1. data_copy0.csv: Unidentifiable data with coarse covariates for senior high school students in Chile 2010. The dictionary
		for variables is available in the file "dictionary.xlsx"

	2. data_copy1-10.Rdata: Copy of the original data from all08_10_cc_short.csv with randomly altered covariates. Generated from 
		01_create_data_diff_sizes.R script.

	3. data_template*.Rdata: Template of size 1,000 to 10,000. Generated from 01_create_data_diff_sizes.R script.


# 3. How to run the code

For replication of the simulation study, please follow these instructions:

1. Read the document "required_installations.txt" and, if needed, install the required solver (Gurobi) and R packages before running the replication code.

2. Run the code in numerical order: To generate the necessary data, 01_create_data_diff_sizes.R should be run first. However, the output data has also been provided (as generated by the researchers) if you wish to run the simulation code without having to generate the data prior to this.

	01_create_data_diff_sizes.R: Creates ten copies of the original data, randomly disturbing the covariates. Creates template samples of up to 
		10,000 observations.

	02_matching_diff_sample_sizes: Tests performance of "cardmatch()" using template and data of different sizes. Generates the table of computing 
		time (Table 2) for our simulation study.

	03_matching_diff_sample_sizes_optmatch: Tests performance of "optmatch()" using template and data of different sizes. Generates .txt file for the 
		output.

	04_matching_diff_sample_sizes_rcbalance: Tests performance of "rcbalance()" using template and data of different sizes. Generates .txt file for the 
		output.
